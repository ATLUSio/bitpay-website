/* How it Works Illustration */

@-webkit-keyframes btc-move {
  0% { -webkit-transform: translateX(0); opacity: 0}
  5% { -webkit-transform: translateX(0); opacity: 1}
  45% { -webkit-transform: translateX(230px); opacity: 1}
  88% { -webkit-transform: translateX(230px)}
  98% { -webkit-transform: translateX(480px); opacity: 1}
  99% { -webkit-transform: translateX(480px); opacity: 0}
  100% { -webkit-transform: translateX(0); opacity: 0}
}

@-webkit-keyframes fiat-move {
  0% { -webkit-transform: translateX(0); opacity: 0}
  20% { -webkit-transform: translateX(0); opacity: 1}
  35% { -webkit-transform: translateX(230px); opacity: 1}
  36% { -webkit-transform: translateX(230px); opacity: 0}
  100% { -webkit-transform: translateX(0); opacity: 0}
}

@-webkit-keyframes btc-paid {
  0% { -webkit-transform: translateY(0) scale(0.1); opacity: 0 }
  20% { -webkit-transform: translateY(0); opacity: 1}
  35% { -webkit-transform: translateY(-60px) scale(1.3) }
  37% { -webkit-transform: translateY(-60px) scale(0.9) }
  39% { -webkit-transform: translateY(-60px) scale(1.1) }
  41% { -webkit-transform: translateY(-60px) scale(0.9) }
  43% { -webkit-transform: translateY(-60px) scale(1); opacity: 1}
  95% { -webkit-transform: translateY(-60px); opacity: 0}
  95% { -webkit-transform: translateY(-65px) scale(0.1); opacity: 0}
  100% { -webkit-transform: translateY(0); opacity: 0}
}

@-webkit-keyframes focus-text {
  0% { opacity: 0}
  10% { opacity: 1}
  22% { opacity: 1}
  25% { opacity: 0.3}
  100% { opacity: 1}
}

@-webkit-keyframes focus-text-up-right {
  0% { -webkit-transform: translate3d(-5px, 5px, 0); opacity: 0}
  10% { -webkit-transform: translate3d(0, 0, 0); opacity: 1}
  22% { opacity: 1}

  100% { opacity: 1}
}

@-webkit-keyframes focus-text-down-right {
  0% { -webkit-transform: translate3d(-5px, -5px, 0); opacity: 0}
  10% { -webkit-transform: translate3d(0, 0, 0); opacity: 1}
  22% { opacity: 1}

  100% { opacity: 1}
}

@-webkit-keyframes wiggle {
  0% { -webkit-transform: matrix3d(1.2, 0, 0, 0, 0, 1.2, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform: matrix3d(1.2, 0, 0, 0, 0, 1.2, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
  3.4% { -webkit-transform: matrix3d(1.137, 0, 0, 0, 0, 1.119, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform: matrix3d(1.137, 0, 0, 0, 0, 1.119, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
  4.7% { -webkit-transform: matrix3d(1.11, 0, 0, 0, 0, 1.08, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform: matrix3d(1.11, 0, 0, 0, 0, 1.08, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
  6.81% { -webkit-transform: matrix3d(1.068, 0, 0, 0, 0, 1.021, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform: matrix3d(1.068, 0, 0, 0, 0, 1.021, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
  9.41% { -webkit-transform: matrix3d(1.023, 0, 0, 0, 0, 0.966, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform: matrix3d(1.023, 0, 0, 0, 0, 0.966, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
  10.21% { -webkit-transform: matrix3d(1.012, 0, 0, 0, 0, 0.955, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform: matrix3d(1.012, 0, 0, 0, 0, 0.955, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
  13.61% { -webkit-transform: matrix3d(0.975, 0, 0, 0, 0, 0.934, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform: matrix3d(0.975, 0, 0, 0, 0, 0.934, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
  14.11% { -webkit-transform: matrix3d(0.972, 0, 0, 0, 0, 0.934, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform: matrix3d(0.972, 0, 0, 0, 0, 0.934, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
  17.52% { -webkit-transform: matrix3d(0.958, 0, 0, 0, 0, 0.952, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform: matrix3d(0.958, 0, 0, 0, 0, 0.952, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
  18.72% { -webkit-transform: matrix3d(0.958, 0, 0, 0, 0, 0.963, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform: matrix3d(0.958, 0, 0, 0, 0, 0.963, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
  21.32% { -webkit-transform: matrix3d(0.961, 0, 0, 0, 0, 0.986, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform: matrix3d(0.961, 0, 0, 0, 0, 0.986, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
  24.32% { -webkit-transform: matrix3d(0.97, 0, 0, 0, 0, 1.008, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform: matrix3d(0.97, 0, 0, 0, 0, 1.008, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
  25.23% { -webkit-transform: matrix3d(0.973, 0, 0, 0, 0, 1.012, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform: matrix3d(0.973, 0, 0, 0, 0, 1.012, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
  29.03% { -webkit-transform: matrix3d(0.987, 0, 0, 0, 0, 1.021, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform: matrix3d(0.987, 0, 0, 0, 0, 1.021, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
  29.93% { -webkit-transform: matrix3d(0.99, 0, 0, 0, 0, 1.02, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform: matrix3d(0.99, 0, 0, 0, 0, 1.02, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
  35.54% { -webkit-transform: matrix3d(1.004, 0, 0, 0, 0, 1.008, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform: matrix3d(1.004, 0, 0, 0, 0, 1.008, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
  36.74% { -webkit-transform: matrix3d(1.006, 0, 0, 0, 0, 1.004, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform: matrix3d(1.006, 0, 0, 0, 0, 1.004, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
  41.04% { -webkit-transform: matrix3d(1.008, 0, 0, 0, 0, 0.996, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform: matrix3d(1.008, 0, 0, 0, 0, 0.996, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
  44.44% { -webkit-transform: matrix3d(1.007, 0, 0, 0, 0, 0.994, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform: matrix3d(1.007, 0, 0, 0, 0, 0.994, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
  52.15% { -webkit-transform: matrix3d(1.002, 0, 0, 0, 0, 0.999, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform: matrix3d(1.002, 0, 0, 0, 0, 0.999, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
  59.86% { -webkit-transform: matrix3d(0.999, 0, 0, 0, 0, 1.002, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform: matrix3d(0.999, 0, 0, 0, 0, 1.002, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
  63.26% { -webkit-transform: matrix3d(0.999, 0, 0, 0, 0, 1.002, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform: matrix3d(0.999, 0, 0, 0, 0, 1.002, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
  75.28% { -webkit-transform: matrix3d(1, 0, 0, 0, 0, 0.999, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform: matrix3d(1, 0, 0, 0, 0, 0.999, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
  85.49% { -webkit-transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
  90.69% { -webkit-transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
  100% { -webkit-transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
}

@-webkit-keyframes twist-pop {
  0% { -webkit-transform: matrix3d(0.81, 0, 0, 0, 0, 0.81, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform: matrix3d(0.81, 0, 0, 0, 0, 0.81, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
  3.2% { -webkit-transform: matrix3d(0.882, 0, 0, 0, -0.041, 0.882, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform: matrix3d(0.882, 0, 0, 0, -0.041, 0.882, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
  4.3% { -webkit-transform: matrix3d(0.905, 0, 0, 0, -0.048, 0.905, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform: matrix3d(0.905, 0, 0, 0, -0.048, 0.905, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
  6.41% { -webkit-transform: matrix3d(0.944, 0, 0, 0, -0.054, 0.944, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform: matrix3d(0.944, 0, 0, 0, -0.054, 0.944, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
  8.61% { -webkit-transform: matrix3d(0.976, 0, 0, 0, -0.053, 0.976, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform: matrix3d(0.976, 0, 0, 0, -0.053, 0.976, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
  12.71% { -webkit-transform: matrix3d(1.01, 0, 0, 0, -0.037, 1.01, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform: matrix3d(1.01, 0, 0, 0, -0.037, 1.01, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
  12.91% { -webkit-transform: matrix3d(1.01, 0, 0, 0, -0.037, 1.01, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform: matrix3d(1.01, 0, 0, 0, -0.037, 1.01, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
  17.22% { -webkit-transform: matrix3d(1.019, 0, 0, 0, -0.018, 1.019, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform: matrix3d(1.019, 0, 0, 0, -0.018, 1.019, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
  18.92% { -webkit-transform: matrix3d(1.018, 0, 0, 0, -0.012, 1.018, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform: matrix3d(1.018, 0, 0, 0, -0.012, 1.018, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
  25.23% { -webkit-transform: matrix3d(1.008, 0, 0, 0, 0, 1.008, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform: matrix3d(1.008, 0, 0, 0, 0, 1.008, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
  28.33% { -webkit-transform: matrix3d(1.004, 0, 0, 0, 0.002, 1.004, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform: matrix3d(1.004, 0, 0, 0, 0.002, 1.004, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
  31.43% { -webkit-transform: matrix3d(1.001, 0, 0, 0, 0.003, 1.001, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform: matrix3d(1.001, 0, 0, 0, 0.003, 1.001, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
  39.44% { -webkit-transform: matrix3d(0.999, 0, 0, 0, 0.001, 0.999, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform: matrix3d(0.999, 0, 0, 0, 0.001, 0.999, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
  56.46% { -webkit-transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
  61.66% { -webkit-transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
  81.48% { -webkit-transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
  83.98% { -webkit-transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
  100% { -webkit-transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); }
}

@-webkit-keyframes spin {
  0% { -webkit-transform: rotate(0) }
  20% { -webkit-transform: rotate(-10deg) }
  50% { -webkit-transform: rotate(760deg) }
  70% { -webkit-transform: rotate(680deg) }
  80% { -webkit-transform: rotate(740deg) }
  90% { -webkit-transform: rotate(700deg) }
  100% { -webkit-transform: rotate(720deg) }
}

@-webkit-keyframes get-paid {
  0%, 100% {
    -webkit-transform: rotate(0deg); background: $blue-light;
  }

  10% { -webkit-transform: scale(0.2); }

  10%, 30%, 50%, 70%, 90% {
    -webkit-transform: rotate(-2.5deg);
  }

  50% { -webkit-transform: scale(1.1);}

  20%, 40%, 60%, 80% {
    -webkit-transform: rotate(2.5deg);
  }

  10%, 90% {
    background: #12C312;
  }

  100% { -webkit-transform: scale(1)}

}

.how-works-illustration {
  position: relative;
  /* padding: 360px 0 50px; */
  height: 20rem;
}

.step1,
.step2,
.step3,
.step4,
.timeline,
.bitcoin,
.fiat,
.step1-text,
.step2-text,
.step3-text,
.step4-text {
  position: absolute;
}

.timeline {
  width: 96%;
  height: 3px;
  background: darken($gray-light, 10%);
  top: 164px;
  left: 2%;
}

.step1,
.step2,
.step3,
.step4 {
  width: 60px;
  height: 60px;
  background: $primary-color;
  top: 42%;
  border-radius: 3px;
  z-index: 2;
}

.step1 {
  -webkit-animation: wiggle 1s linear forwards 4s;
}

.step2 {
  left: 30%;
  background: $blue-dark;
  -webkit-animation: twist-pop 1s linear forwards 6s;
}

.step3 {
  left: 60%;
  background: #ffffff;
  border: 4px solid $blue-dark;
  border-radius: 60px;
}

.step4 {
  right: 0;
  background: $blue-light;
  -webkit-animation: get-paid 1s ease 12.75s;
}

.how-icon {
  width: 20px;
  height: 20px;
  position: absolute;
  left: 33%;
  top: 33%;
}

.bitcoin,
.fiat {
  width: 20px;
  height: 20px;
  border-radius: 20px;
  top: 48%;
  z-index: 1;
}

.bitcoin {
  background: #F2A900;
  left: 3%;
  -webkit-animation: btc-move cubic-bezier(0.645, 0.045, 0.355, 1) 10s forwards 3.5s;
}

.fiat {
  background: #12C312;
  color: #ffffff;
  line-height: 1.7;
  right: 33%;
  text-align: center;
  font-size: 0.8em;
  /* -webkit-animation: fiat-move ease-in-out 8s forwards 5s; */
}

.paid {
  width: 25px;
  height: 25px;
  background: #12C312;
  border-radius: 30px;
  position: absolute;
  top: 38%;
  left: 32%;
  opacity: 0;
  -webkit-animation: btc-paid 3s cubic-bezier(0.645, 0.045, 0.355, 1) 6.5s;
  &:before,
  &:after {
    content:"";
    width: 3px;
    background: #ffffff;
    position: absolute;
  }
  &:before {
    height: 5px;
    top: 11px;
    left: 7px;
    -webkit-transform: rotate(-45deg);
  }
  &:after {
    height: 10px;
    top: 8px;
    left: 12px;
    -webkit-transform: rotate(45deg);
  }
}

.step1-text,
.step2-text,
.step3-text,
.step4-text {
  width: 180px;
  color: lighten($gray-dark, 20%);
  /* opacity: 0.7; */
  &:before {
    content: "";
    width: 1px;
    height: 80px;
    position: absolute;
    background: lighten($gray-dark, 40%);
    left: -20px;
  }
  &:after {
    content:"";
    width: 5px;
    height: 5px;
    background: lighten($gray-dark, 40%);
    border-radius: 2px;
    position: absolute;
    left: -22px;
  }
}

.step1-text,
.step3-text {
  top: 20px;
  &:before,
  &:after {
    top: 45px;
  }
}

.step2-text,
.step4-text {
  top: 220px;
  &:before,
  &:after {
    bottom: 40px;
  }
}

.step1-text {
  left: 7%;
  -webkit-animation: focus-text-up-right 3s ease backwards;
}

.step2-text {
  left: 37%;
  -webkit-animation: focus-text-down-right 3s ease backwards 0.75s;
}

.step3-text {
  left: 67%;
  -webkit-animation: focus-text-up-right 3s ease backwards 1.5s;
}

.step4-text {
  left: 98.5%;
  -webkit-animation: focus-text-down-right 3s ease backwards 2.25s;
}

.step3 > img {
  /* -webkit-animation: spin 1.5s ease-in-out forwards 13s; */
}
